{"ast":null,"code":"var _jsxFileName = \"E:\\\\Capstone\\\\new\\\\frontend\\\\src\\\\pages\\\\StudentDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { Container, Typography, List, ListItem, ListItemText, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentDashboard() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [consultations, setConsultations] = useState([]);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [course, setCourse] = useState('');\n  const [details, setDetails] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchConsultations();\n  }, []);\n  const fetchConsultations = async () => {\n    const response = await fetch('/api/consultations', {\n      headers: {\n        Authorization: localStorage.getItem('token')\n      }\n    });\n    const data = await response.json();\n    setConsultations(data);\n  };\n  const handleBookConsultation = async () => {\n    const response = await fetch('/api/consultations', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        course,\n        details\n      })\n    });\n    if (response.ok) {\n      setOpenDialog(false);\n      fetchConsultations(); // Refresh the list\n    }\n  };\n  const handleCancelConsultation = async id => {\n    const response = await fetch(`/api/consultations/${id}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: localStorage.getItem('token')\n      }\n    });\n    if (response.ok) {\n      fetchConsultations(); // Refresh the list\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      style: {\n        marginBottom: '20px',\n        color: '#4caf50'\n      },\n      children: [\"Welcome, \", user ? user.username : 'Student', \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => setOpenDialog(true),\n      children: \"Book Consultation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      style: {\n        marginTop: '20px',\n        color: '#ff9800'\n      },\n      children: \"Your Consultations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: consultations.map(consultation => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: consultation.course,\n          secondary: `Date: ${new Date(consultation.consultationDate).toLocaleString()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          onClick: () => handleCancelConsultation(consultation._id),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, consultation._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: () => setOpenDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Book Consultation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Course\",\n          value: course,\n          onChange: e => setCourse(e.target.value),\n          fullWidth: true,\n          style: {\n            marginBottom: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Details\",\n          value: details,\n          onChange: e => setDetails(e.target.value),\n          fullWidth: true,\n          multiline: true,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleBookConsultation,\n          color: \"primary\",\n          children: \"Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentDashboard, \"wt6jG+pHxJDd4PoFo64TERj7kbQ=\", false, function () {\n  return [useNavigate];\n});\n_c = StudentDashboard;\nexport default StudentDashboard;\nvar _c;\n$RefreshReg$(_c, \"StudentDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","Container","Typography","List","ListItem","ListItemText","Button","TextField","Dialog","DialogTitle","DialogContent","DialogActions","useNavigate","jsxDEV","_jsxDEV","StudentDashboard","_s","user","consultations","setConsultations","openDialog","setOpenDialog","course","setCourse","details","setDetails","navigate","fetchConsultations","response","fetch","headers","Authorization","localStorage","getItem","data","json","handleBookConsultation","method","body","JSON","stringify","ok","handleCancelConsultation","id","children","variant","style","marginBottom","color","username","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","map","consultation","primary","secondary","Date","consultationDate","toLocaleString","_id","open","onClose","label","value","onChange","e","target","fullWidth","multiline","rows","_c","$RefreshReg$"],"sources":["E:/Capstone/new/frontend/src/pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Container, Typography, List, ListItem, ListItemText, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction StudentDashboard() {\r\n  const { user } = useContext(AuthContext);\r\n  const [consultations, setConsultations] = useState([]);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [course, setCourse] = useState('');\r\n  const [details, setDetails] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchConsultations();\r\n  }, []);\r\n\r\n  const fetchConsultations = async () => {\r\n    const response = await fetch('/api/consultations', {\r\n      headers: { Authorization: localStorage.getItem('token') },\r\n    });\r\n    const data = await response.json();\r\n    setConsultations(data);\r\n  };\r\n\r\n  const handleBookConsultation = async () => {\r\n    const response = await fetch('/api/consultations', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify({ course, details }),\r\n    });\r\n    if (response.ok) {\r\n      setOpenDialog(false);\r\n      fetchConsultations(); // Refresh the list\r\n    }\r\n  };\r\n\r\n  const handleCancelConsultation = async (id) => {\r\n    const response = await fetch(`/api/consultations/${id}`, {\r\n      method: 'DELETE',\r\n      headers: { Authorization: localStorage.getItem('token') },\r\n    });\r\n    if (response.ok) {\r\n      fetchConsultations(); // Refresh the list\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" style={{ marginBottom: '20px', color: '#4caf50' }}>\r\n        Welcome, {user ? user.username : 'Student'}!\r\n      </Typography>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={() => setOpenDialog(true)}>\r\n        Book Consultation\r\n      </Button>\r\n      <Typography variant=\"h5\" style={{ marginTop: '20px', color: '#ff9800' }}>\r\n        Your Consultations\r\n      </Typography>\r\n      <List>\r\n        {consultations.map((consultation) => (\r\n          <ListItem key={consultation._id}>\r\n            <ListItemText\r\n              primary={consultation.course}\r\n              secondary={`Date: ${new Date(consultation.consultationDate).toLocaleString()}`}\r\n            />\r\n            <Button variant=\"contained\" color=\"secondary\" onClick={() => handleCancelConsultation(consultation._id)}>\r\n              Cancel\r\n            </Button>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n\r\n      {/* Book Consultation Dialog */}\r\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>\r\n        <DialogTitle>Book Consultation</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            label=\"Course\"\r\n            value={course}\r\n            onChange={(e) => setCourse(e.target.value)}\r\n            fullWidth\r\n            style={{ marginBottom: '20px' }}\r\n          />\r\n          <TextField\r\n            label=\"Details\"\r\n            value={details}\r\n            onChange={(e) => setDetails(e.target.value)}\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\r\n          <Button onClick={handleBookConsultation} color=\"primary\">\r\n            Book\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default StudentDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}