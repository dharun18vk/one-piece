{"ast":null,"code":"var _jsxFileName = \"E:\\\\Capstone\\\\new\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { auth, db } from \"./firebase\";\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport { collection, getDocs, setDoc, doc } from \"firebase/firestore\";\nimport Cards from \"./components/ui/Cards\";\nimport Button from \"./components/ui/Button\";\nimport Input from \"./components/ui/Input\"; // ✅ Ensure correct file name and capitalization\n\nimport Navbar from \"./components/Navbar\";\nimport Footer from \"./components/Footer\";\nimport Dashboard from \"./components/Dashboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        const userDoc = await getDocs(collection(db, \"users\"));\n        const userData = userDoc.docs.find(doc => doc.id === currentUser.uid);\n        setRole((userData === null || userData === void 0 ? void 0 : userData.data().role) || \"student\");\n      } else {\n        setUser(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleSignup = async () => {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      await setDoc(doc(db, \"users\", userCredential.user.uid), {\n        email,\n        role\n      });\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const handleLogin = () => {\n    signInWithEmailAndPassword(auth, email, password).catch(alert);\n  };\n  const handleLogout = () => {\n    signOut(auth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      role: role,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow p-6 max-w-xl mx-auto\",\n      children: !user ? /*#__PURE__*/_jsxDEV(Cards, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"mb-2 p-2 border rounded\",\n            onChange: e => setRole(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"student\",\n              children: \"Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"consultant\",\n              children: \"Consultant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleLogin,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSignup,\n            className: \"ml-2\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Dashboard, {\n        user: user,\n        role: role,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"AwlWSAijzFJ05LRi2T1pvlYkfKA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","onAuthStateChanged","collection","getDocs","setDoc","doc","Cards","Button","Input","Navbar","Footer","Dashboard","jsxDEV","_jsxDEV","App","_s","user","setUser","email","setEmail","password","setPassword","role","setRole","unsubscribe","currentUser","userDoc","userData","docs","find","id","uid","data","handleSignup","userCredential","error","alert","message","handleLogin","catch","handleLogout","className","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","type","onClick","_c","$RefreshReg$"],"sources":["E:/Capstone/new/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { auth, db } from \"./firebase\";\nimport {\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n} from \"firebase/auth\";\nimport { collection, getDocs, setDoc, doc } from \"firebase/firestore\";\nimport Cards from \"./components/ui/Cards\";\nimport Button from \"./components/ui/Button\";\nimport Input from \"./components/ui/Input\"; // ✅ Ensure correct file name and capitalization\n\nimport Navbar from \"./components/Navbar\";\nimport Footer from \"./components/Footer\";\nimport Dashboard from \"./components/Dashboard\";\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n      if (currentUser) {\n        setUser(currentUser);\n        const userDoc = await getDocs(collection(db, \"users\"));\n        const userData = userDoc.docs.find((doc) => doc.id === currentUser.uid);\n        setRole(userData?.data().role || \"student\");\n      } else {\n        setUser(null);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleSignup = async () => {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      await setDoc(doc(db, \"users\", userCredential.user.uid), { email, role });\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const handleLogin = () => {\n    signInWithEmailAndPassword(auth, email, password).catch(alert);\n  };\n\n  const handleLogout = () => {\n    signOut(auth);\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Navbar user={user} role={role} onLogout={handleLogout} />\n\n      <div className=\"flex-grow p-6 max-w-xl mx-auto\">\n        {!user ? (\n          <Cards>\n            <div className=\"p-4\">\n              <Input placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n              <Input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n              <select className=\"mb-2 p-2 border rounded\" onChange={(e) => setRole(e.target.value)}>\n                <option value=\"\">Select Role</option>\n                <option value=\"student\">Student</option>\n                <option value=\"consultant\">Consultant</option>\n              </select>\n              <Button onClick={handleLogin}>Login</Button>\n              <Button onClick={handleSignup} className=\"ml-2\">Sign Up</Button>\n            </div>\n          </Cards>\n        ) : (\n          <Dashboard user={user} role={role} onLogout={handleLogout} />\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,EAAE,QAAQ,YAAY;AACrC,SACEC,0BAA0B,EAC1BC,8BAA8B,EAC9BC,OAAO,EACPC,kBAAkB,QACb,eAAe;AACtB,SAASC,UAAU,EAAEC,OAAO,EAAEC,MAAM,EAAEC,GAAG,QAAQ,oBAAoB;AACrE,OAAOC,KAAK,MAAM,uBAAuB;AACzC,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,KAAK,MAAM,uBAAuB,CAAC,CAAC;;AAE3C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,SAAS,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACd,MAAM6B,WAAW,GAAGvB,kBAAkB,CAACL,IAAI,EAAE,MAAO6B,WAAW,IAAK;MAClE,IAAIA,WAAW,EAAE;QACfR,OAAO,CAACQ,WAAW,CAAC;QACpB,MAAMC,OAAO,GAAG,MAAMvB,OAAO,CAACD,UAAU,CAACL,EAAE,EAAE,OAAO,CAAC,CAAC;QACtD,MAAM8B,QAAQ,GAAGD,OAAO,CAACE,IAAI,CAACC,IAAI,CAAExB,GAAG,IAAKA,GAAG,CAACyB,EAAE,KAAKL,WAAW,CAACM,GAAG,CAAC;QACvER,OAAO,CAAC,CAAAI,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,IAAI,CAAC,CAAC,CAACV,IAAI,KAAI,SAAS,CAAC;MAC7C,CAAC,MAAM;QACLL,OAAO,CAAC,IAAI,CAAC;MACf;IACF,CAAC,CAAC;IACF,OAAO,MAAMO,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,cAAc,GAAG,MAAMnC,8BAA8B,CAACH,IAAI,EAAEsB,KAAK,EAAEE,QAAQ,CAAC;MAClF,MAAMhB,MAAM,CAACC,GAAG,CAACR,EAAE,EAAE,OAAO,EAAEqC,cAAc,CAAClB,IAAI,CAACe,GAAG,CAAC,EAAE;QAAEb,KAAK;QAAEI;MAAK,CAAC,CAAC;IAC1E,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACtB;EACF,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxBxC,0BAA0B,CAACF,IAAI,EAAEsB,KAAK,EAAEE,QAAQ,CAAC,CAACmB,KAAK,CAACH,KAAK,CAAC;EAChE,CAAC;EAED,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACzBxC,OAAO,CAACJ,IAAI,CAAC;EACf,CAAC;EAED,oBACEiB,OAAA;IAAK4B,SAAS,EAAC,4BAA4B;IAAAC,QAAA,gBACzC7B,OAAA,CAACJ,MAAM;MAACO,IAAI,EAAEA,IAAK;MAACM,IAAI,EAAEA,IAAK;MAACqB,QAAQ,EAAEH;IAAa;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE1DlC,OAAA;MAAK4B,SAAS,EAAC,gCAAgC;MAAAC,QAAA,EAC5C,CAAC1B,IAAI,gBACJH,OAAA,CAACP,KAAK;QAAAoC,QAAA,eACJ7B,OAAA;UAAK4B,SAAS,EAAC,KAAK;UAAAC,QAAA,gBAClB7B,OAAA,CAACL,KAAK;YAACwC,WAAW,EAAC,OAAO;YAACC,KAAK,EAAE/B,KAAM;YAACgC,QAAQ,EAAGC,CAAC,IAAKhC,QAAQ,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK;UAAE;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtFlC,OAAA,CAACL,KAAK;YAAC6C,IAAI,EAAC,UAAU;YAACL,WAAW,EAAC,UAAU;YAACC,KAAK,EAAE7B,QAAS;YAAC8B,QAAQ,EAAGC,CAAC,IAAK9B,WAAW,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK;UAAE;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/GlC,OAAA;YAAQ4B,SAAS,EAAC,yBAAyB;YAACS,QAAQ,EAAGC,CAAC,IAAK5B,OAAO,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAAAP,QAAA,gBACnF7B,OAAA;cAAQoC,KAAK,EAAC,EAAE;cAAAP,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrClC,OAAA;cAAQoC,KAAK,EAAC,SAAS;cAAAP,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACxClC,OAAA;cAAQoC,KAAK,EAAC,YAAY;cAAAP,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACTlC,OAAA,CAACN,MAAM;YAAC+C,OAAO,EAAEhB,WAAY;YAAAI,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC5ClC,OAAA,CAACN,MAAM;YAAC+C,OAAO,EAAErB,YAAa;YAACQ,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAC;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,gBAERlC,OAAA,CAACF,SAAS;QAACK,IAAI,EAAEA,IAAK;QAACM,IAAI,EAAEA,IAAK;QAACqB,QAAQ,EAAEH;MAAa;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAC7D;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAENlC,OAAA,CAACH,MAAM;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAChC,EAAA,CAhEID,GAAG;AAAAyC,EAAA,GAAHzC,GAAG;AAkET,eAAeA,GAAG;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}