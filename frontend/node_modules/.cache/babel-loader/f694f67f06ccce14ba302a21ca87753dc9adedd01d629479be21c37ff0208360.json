{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../context/AuthContext';import{Container,Typography,List,ListItem,ListItemText}from'@material-ui/core';import ConsultationForm from'../components/consultationform';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function StudentDashboard(){const{user}=useContext(AuthContext);const[consultations,setConsultations]=useState([]);useEffect(()=>{fetchConsultations();},[]);const fetchConsultations=async()=>{const response=await fetch('/api/consultations',{headers:{Authorization:localStorage.getItem('token')}});const data=await response.json();setConsultations(data);};const handleAddConsultation=async consultation=>{const response=await fetch('/api/consultations',{method:'POST',headers:{'Content-Type':'application/json',Authorization:localStorage.getItem('token')},body:JSON.stringify(consultation)});const data=await response.json();setConsultations([...consultations,data]);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",style:{marginBottom:'20px',color:'#4caf50'},children:[\"Welcome, \",user?user.username:'Student',\"!\"]}),/*#__PURE__*/_jsx(ConsultationForm,{onAddConsultation:handleAddConsultation}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{marginTop:'20px',color:'#ff9800'},children:\"Your Consultations\"}),/*#__PURE__*/_jsx(List,{children:consultations.map(consultation=>/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{})},consultation._id))})]});}export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","Container","Typography","List","ListItem","ListItemText","ConsultationForm","jsxs","_jsxs","jsx","_jsx","StudentDashboard","user","consultations","setConsultations","fetchConsultations","response","fetch","headers","Authorization","localStorage","getItem","data","json","handleAddConsultation","consultation","method","body","JSON","stringify","children","variant","style","marginBottom","color","username","onAddConsultation","marginTop","map","_id"],"sources":["E:/Capstone/new/frontend/src/pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Container, Typography,List, ListItem, ListItemText } from '@material-ui/core';\r\nimport ConsultationForm from '../components/consultationform';\r\n\r\nfunction StudentDashboard() {\r\n  const { user } = useContext(AuthContext);\r\n  const [consultations, setConsultations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchConsultations();\r\n  }, []);\r\n\r\n  const fetchConsultations = async () => {\r\n    const response = await fetch('/api/consultations', {\r\n      headers: { Authorization: localStorage.getItem('token') },\r\n    });\r\n    const data = await response.json();\r\n    setConsultations(data);\r\n  };\r\n\r\n  const handleAddConsultation = async (consultation) => {\r\n    const response = await fetch('/api/consultations', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify(consultation),\r\n    });\r\n    const data = await response.json();\r\n    setConsultations([...consultations, data]);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" style={{ marginBottom: '20px', color: '#4caf50' }}>\r\n        Welcome, {user ? user.username : 'Student'}!\r\n      </Typography>\r\n      <ConsultationForm onAddConsultation={handleAddConsultation} />\r\n      <Typography variant=\"h5\" style={{ marginTop: '20px', color: '#ff9800' }}>\r\n        Your Consultations\r\n      </Typography>\r\n        <List>\r\n          {consultations.map((consultation) => (\r\n            <ListItem key={consultation._id}>\r\n              <ListItemText />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        </Container>\r\n  );\r\n}\r\n\r\nexport default StudentDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,SAAS,CAAEC,UAAU,CAACC,IAAI,CAAEC,QAAQ,CAAEC,YAAY,KAAQ,mBAAmB,CACtF,MAAO,CAAAC,gBAAgB,KAAM,gCAAgC,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE9D,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAEC,IAAK,CAAC,CAAGb,UAAU,CAACC,WAAW,CAAC,CACxC,KAAM,CAACa,aAAa,CAAEC,gBAAgB,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACdiB,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoB,CAAE,CACjDC,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,CAC1D,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCT,gBAAgB,CAACQ,IAAI,CAAC,CACxB,CAAC,CAED,KAAM,CAAAE,qBAAqB,CAAG,KAAO,CAAAC,YAAY,EAAK,CACpD,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoB,CAAE,CACjDS,MAAM,CAAE,MAAM,CACdR,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC7C,CAAC,CACDM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,YAAY,CACnC,CAAC,CAAC,CACF,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCT,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAES,IAAI,CAAC,CAAC,CAC5C,CAAC,CAED,mBACEd,KAAA,CAACP,SAAS,EAAA6B,QAAA,eACRtB,KAAA,CAACN,UAAU,EAAC6B,OAAO,CAAC,IAAI,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAJ,QAAA,EAAC,WACjE,CAAClB,IAAI,CAAGA,IAAI,CAACuB,QAAQ,CAAG,SAAS,CAAC,GAC7C,EAAY,CAAC,cACbzB,IAAA,CAACJ,gBAAgB,EAAC8B,iBAAiB,CAAEZ,qBAAsB,CAAE,CAAC,cAC9Dd,IAAA,CAACR,UAAU,EAAC6B,OAAO,CAAC,IAAI,CAACC,KAAK,CAAE,CAAEK,SAAS,CAAE,MAAM,CAAEH,KAAK,CAAE,SAAU,CAAE,CAAAJ,QAAA,CAAC,oBAEzE,CAAY,CAAC,cACXpB,IAAA,CAACP,IAAI,EAAA2B,QAAA,CACFjB,aAAa,CAACyB,GAAG,CAAEb,YAAY,eAC9Bf,IAAA,CAACN,QAAQ,EAAA0B,QAAA,cACPpB,IAAA,CAACL,YAAY,GAAE,CAAC,EADHoB,YAAY,CAACc,GAElB,CACX,CAAC,CACE,CAAC,EACI,CAAC,CAEpB,CAEA,cAAe,CAAA5B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}