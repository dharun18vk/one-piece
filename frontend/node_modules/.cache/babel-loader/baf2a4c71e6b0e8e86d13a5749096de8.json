{"ast":null,"code":"var _jsxFileName = \"E:\\\\Capstone\\\\new\\\\frontend\\\\src\\\\components\\\\Login.js\";\nimport React, { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { TextField, Button, Container, Typography } from '@material-ui/core';\nfunction Login() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    login\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch('/api/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      login(data);\n      history.push(data.role === 'student' ? '/student' : '/consultant');\n    }\n  };\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Password\",\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n}\nexport default Login;","map":{"version":3,"names":["React","useState","useContext","AuthContext","useHistory","TextField","Button","Container","Typography","Login","username","setUsername","password","setPassword","login","history","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","push","role","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","variant","onSubmit","label","value","onChange","target","type"],"sources":["E:/Capstone/new/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { TextField, Button, Container, Typography } from '@material-ui/core';\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { login } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch('/api/auth/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      login(data);\r\n      history.push(data.role === 'student' ? '/student' : '/consultant');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\">Login</Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField label=\"Username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n        <TextField label=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        <Button type=\"submit\">Login</Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,SAAS,EAAEC,MAAM,EAAEC,SAAS,EAAEC,UAAU,QAAQ,mBAAmB;AAE5E,SAASC,KAAKA,CAAA,EAAG;EACf,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM;IAAEa;EAAM,CAAC,GAAGZ,UAAU,CAACC,WAAW,CAAC;EACzC,MAAMY,OAAO,GAAGX,UAAU,CAAC,CAAC;EAE5B,MAAMY,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAiB,EAAE;MAC9CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEf,QAAQ;QAAEE;MAAS,CAAC;IAC7C,CAAC,CAAC;IACF,MAAMc,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACfd,KAAK,CAACY,IAAI,CAAC;MACXX,OAAO,CAACc,IAAI,CAACH,IAAI,CAACI,IAAI,KAAK,SAAS,GAAG,UAAU,GAAG,aAAa,CAAC;IACpE;EACF,CAAC;EAED,oBACE9B,KAAA,CAAA+B,aAAA,CAACxB,SAAS;IAAAyB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACRrC,KAAA,CAAA+B,aAAA,CAACvB,UAAU;IAAC8B,OAAO,EAAC,IAAI;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAiB,CAAC,eAC3CrC,KAAA,CAAA+B,aAAA;IAAMQ,QAAQ,EAAEvB,YAAa;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BrC,KAAA,CAAA+B,aAAA,CAAC1B,SAAS;IAACmC,KAAK,EAAC,UAAU;IAACC,KAAK,EAAE/B,QAAS;IAACgC,QAAQ,EAAGzB,CAAC,IAAKN,WAAW,CAACM,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7FrC,KAAA,CAAA+B,aAAA,CAAC1B,SAAS;IAACmC,KAAK,EAAC,UAAU;IAACI,IAAI,EAAC,UAAU;IAACH,KAAK,EAAE7B,QAAS;IAAC8B,QAAQ,EAAGzB,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7GrC,KAAA,CAAA+B,aAAA,CAACzB,MAAM;IAACsC,IAAI,EAAC,QAAQ;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAa,CAC/B,CACG,CAAC;AAEhB;AAEA,eAAe5B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}